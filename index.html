<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Sürüklenebilir Posterler</title>
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body { background:#fff; font-family: system-ui, sans-serif; }

  .wrap { min-height: 100vh; padding: 24px; display: grid; place-items: center; }
  .board {
    position: relative;
    width: min(1200px, 92vw);
    height: min(760px, 80vh);
    background:#fff;
    border: 1px solid #ddd;
    overflow: hidden;
  }

  .poster {
    position: absolute;
    cursor: grab;
    user-select: none;
    touch-action: none;
    box-shadow: 0 8px 20px rgba(0,0,0,.2);
    max-width: 300px;   /* poster maksimum genişlik */
    max-height: 400px;  /* poster maksimum yükseklik */
  }
  .poster:active { cursor: grabbing; }

  .poster img {
    display: block;
    width: auto;
    height: auto;
    max-width: 100%;
    max-height: 100%;
  }

  .hint { position: absolute; inset: auto 12px 12px auto; font-size: 12px; opacity: .6; color:#333; }

  /* Modal (fullscreen) */
  .modal {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,.85);
    display: flex;
    align-items: center;
    justify-content: center;
    visibility: hidden;
    opacity: 0;
    transition: opacity .3s ease;
    z-index: 9999;
  }
  .modal.show { visibility: visible; opacity: 1; }

  .modal img {
    max-width: 90%;
    max-height: 90%;
    box-shadow: 0 8px 30px rgba(0,0,0,.6);
  }
  .close-btn {
    position: absolute;
    top: 24px;
    right: 24px;
    font-size: 28px;
    color: #fff;
    cursor: pointer;
    font-weight: bold;
  }
</style>
</head>
<body>
  <div class="wrap">
    <div class="board" id="board">
      <!-- Poster 1 -->
      <div class="poster" style="--x:24px; --y:24px;">
        <img src="poster%20day%201.png" alt="Poster Day 1" />
      </div>
      <!-- Poster 2 -->
      <div class="poster" style="--x:300px; --y:64px;">
        <img src="Hisha_Ganja_Cover.png" alt="Hisha Ganja Cover" />
      </div>
      <div class="hint">Tut, sürükle veya tıkla ✦</div>
    </div>
  </div>

  <!-- Modal -->
  <div class="modal" id="modal">
    <span class="close-btn" id="closeBtn">✕</span>
    <img id="modalImg" src="" alt="Poster Full" />
  </div>

<script>
(() => {
  const board = document.getElementById('board');
  const posters = board.querySelectorAll('.poster img');
  let active = null, startX = 0, startY = 0, origX = 0, origY = 0, zTop = 10;

  // sürükleme
  function px(n){ return `${n}px`; }
  function getXY(el){
    const cs = getComputedStyle(el);
    return [parseFloat(cs.getPropertyValue('--x')||'0')||0,
            parseFloat(cs.getPropertyValue('--y')||'0')||0];
  }
  function clamp(n, min, max){ return Math.max(min, Math.min(max, n)); }

  function onDown(e){
    const target = e.target.closest('.poster');
    if(!target) return;
    active = target;
    active.style.zIndex = ++zTop;
    const rectB = board.getBoundingClientRect();
    const ptX = (e.clientX ?? (e.touches && e.touches[0].clientX));
    const ptY = (e.clientY ?? (e.touches && e.touches[0].clientY));
    startX = ptX - rectB.left; startY = ptY - rectB.top;
    [origX, origY] = getXY(active);
    e.preventDefault();
  }

  function onMove(e){
    if(!active) return;
    const rectB = board.getBoundingClientRect();
    const ptX = (e.clientX ?? (e.touches && e.touches[0].clientX));
    const ptY = (e.clientY ?? (e.touches && e.touches[0].clientY));
    const x = ptX - rectB.left; const y = ptY - rectB.top;

    const dx = x - startX, dy = y - startY;
    const rectP = active.getBoundingClientRect();
    const maxX = rectB.width - rectP.width;
    const maxY = rectB.height - rectP.height;

    const nx = clamp(origX + dx, -2, maxX+2);
    const ny = clamp(origY + dy, -2, maxY+2);

    active.style.setProperty('--x', px(nx));
    active.style.setProperty('--y', px(ny));
    active.style.transform = `translate3d(${nx}px, ${ny}px, 0)`;
  }

  function onUp(){ active = null; }

  board.addEventListener('pointerdown', onDown, {passive:false});
  window.addEventListener('pointermove', onMove, {passive:false});
  window.addEventListener('pointerup', onUp, {passive:true});
  window.addEventListener('pointercancel', onUp, {passive:true});

  // Modal açma
  const modal = document.getElementById('modal');
  const modalImg = document.getElementById('modalImg');
  const closeBtn = document.getElementById('closeBtn');

  posters.forEach(img => {
    img.addEventListener('click', () => {
      modalImg.src = img.src;
      modal.classList.add('show');
    });
  });

  closeBtn.addEventListener('click', () => {
    modal.classList.remove('show');
  });
})();
</script>
</body>
</html>
